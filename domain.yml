version: "3.1"

intents:
- greet
- goodbye
- bot_challenge
- software_issue
- feature
- general_issue
- vision_issue
- crash
- recipe_cant_load
- database
- issue_database_down
- issue_database_high_storage
- issue_database_corrupted
- report
- issue_report_error_message
- issue_report_cant_export_xls
- report_xlsgen_specific_version
- report_xlsgen_other_version
- issue_report_export_crash
- ui_display
- handshake
- counter
- 2d_vision
- 3d_vision
- overkill
- underkill
- cycle_time
- lead_2d
- mark_2d
- package_2d
- lens_2d
- package_edge_2d
- ocr_2d
- matrix_code_2d
- pin_1_2d
- orient_2d
- measure_2d
- unit_alignment_2d
- pad_3d
- lead_3d
- package_3d
- package_edge_3d
- bga_3d
- measure_3d
- unit_alignment_3d
- pickup_head_3d
- out_of_scope
- affirm
- deny
- cycle_time_issue_intent
- cycle_time_improvement_intent
- test_time
- storage_time

responses:

# ------------------Greeting/Bot Challenge------------------ #
  utter_greet:
  - text: Hi there! 😊 I am JIRA bot and Im here to rescue the day!
  - text: Ola, JIRA bot here to solve your doubts!
  - text: BbiBbi....Bii.. Hi, I am JIRA bot.

  utter_goodbye:
  - text: Okay thanks, bye~  😊
  - text: Alright. See ya! 😁
  - text: Okay great, Goodbye! 😆
  - text: Okay nice , have a great one! 🤣
  - text: Thank you! Bye bye ~ 😁
  
  utter_iamabot:
  - text: I am JIRA bot, powered by Rasa, and I'm here to assist you!
  - text: I am just a bot for JIRA system. 

# ------------------Type of Issue------------------ #
# Ask user which type of issues(software/feature)he/she wants to know
  utter_issueType:
  - buttons:
    - payload: issue_software
      title: Software
    - payload: software_feature
      title: Feature (Currently Unavailable)
    text: So, what would you like to know about?

# ------------------Type of Software Issue------------------ #
# Ask user what kind of software issues(general/vision) he/she facing
  utter_software_issue:
  - buttons:
    - payload: software_general
      title: General
    - payload: software_vision
      title: Vision Engine
    text: What type of software issue are you facing?

# List all the general software issues(Crash/Recipe Can't Load/Report/UI/Handshake/Counter)
  utter_software_general:
  - buttons:
    - payload: general_crash
      title: Software Crash
    - payload: general_recipe_cant_load
      title: Recipe not able to load
    - payload: general_database
      title: Database
    - payload: general_report
      title: Report
    - payload: general_ui_display
      title: UI/Display
    - payload: general_handshake
      title: Handshake
    - payload: general_counter
      title: Counter
    text: Which general issues are you facing?

# Ask the type of vision issues(2D/3D/Overkill/Underkill/Cycle Time)
  utter_software_vision:
  - buttons:
    - payload: vision_2D
      title: 2D Vision
    - payload: vision_3D
      title: 3D Vision
    - payload: vision_overkill
      title: Overkill
    - payload: vision_underkill
      title: Underkill
    - payload: vision_cycle_time
      title: Cycle Time High
    text: Which vision issues are you facing?
  
# ------------------Crash Solution------------------ #
# If there is similar good machine, ask whether the VERSION is newer
  utter_similar_yes:
  - buttons:
    - payload: new_version_yes
      title: Yes, it's newer.
    - payload: new_version_no
      title: No, version is the same.
    text: Are the software version of the similar good machine newer?

# If the version is newer, ask the user to patch the file and check whether it STILL CRASH or not
  utter_new_version_yes:
  - buttons:
    - payload: still_crash_yes
      title: Yes, still crash.
    - payload: still_crash_no
      title: No, it does not crash.
    text: "Kindly patch the issue machine with the similar good machine DLL and monitor the machine.\nDoes it still crash?"

# Ask if the crash is SIMULATABLE
  utter_simulate_crash:
  - buttons:
    - payload: simulate_yes
      title: Simulatable
    - payload: simulate_no
      title: Not Simulatable
    text: Can you simulate the crash?

# Provide ACTIONS for SIMULATABLE CRASH
  utter_simulate_yes:
  - text: "Kindly provide JIRA owner with the following info by email.\
          \n\nInfo to Collect:\
          \n- Does the software crash happened after software update? (Y/N)\
          \n- Is the crash happened during production? (Y/N)\
          \n- Verify whether it's caused by any possible hard disk issue. (Y/N)\
          \n- Any action done before crash? (If Yes, please describe.)\
          \n- Simulation step. (Important)\
          \n\nItem to Collect:\
          \n- Crash dump\
          \n- Backup Software\
          \n- Export Info/Lot Image"

# Provide ACTIONS for NOT SIMULATABLE CRASH
  utter_simulate_no:
  - text: "Please follow the steps below:\
          \n1. Check if there is memory leak using Process Explorer\
          \nGuideline: -Insert Link- (Guide to check memory leak)\
          \n2. Verify whether it's caused by any possible hard disk issue.\
          \n3. Prompt customer for simulation step.\
          \n(Optional) Record customer action with Automatic Screenshotter.\
          \nGuideline: -Insert Link- (Guide to use Automatic Screenshotter)\
          \nAfter you have done the steps above, kindly provide JIRA owner with the following info by email.\
          \n\nInfo to Collect:\
          \n- Memory Leak? (Y/N)
          \n- Does the software crash happened after software update? (Y/N)\
          \n- Is it hard disk issue? (Y/N)\
          \n- Is the crash happened during production? (Y/N)\
          \n- Any action done before crash? (If Yes, please describe.)\
          \n\nItem to Collect:\
          \n- Crash dump\
          \n- Backup Software\
          \n- Export Info/Lot Image"

  utter_general_recipe_cant_load:
  - text: -Insert Server Link- (Recipe Can't Load)

# ------------------Database Solution------------------ #
# Ask which type of database issue the user faced
  utter_general_database:
  - buttons:
    - payload: database_down
      title: Database Down
    - payload: database_high_storage
      title: Database High Storage
    - payload: database_corrupted
      title: Database Corrupted
    text: What kind of database issues are you facing?

# ~~~~Database Down/Offline~~~~ #
# Provide solution for database down (Start the service)
  utter_database_down:
  - text: "Kindly reactivate your postgresql service on your machine\
          \nSteps:\
          \n1. Search for services (Win + S for quick search).\
          \n2. Search for postgresql in the services.\
          \n*V4 - postgresql-9.3\
          \n*V5 - postgresql-x64-10\
          \n3. Start the service by doing the following action: Right Click > Start."

# Ask user to check the storage if the database still down
  utter_database_down_repetitive:
  - buttons:
    - payload: storage_high_yes
      title: Yes, the storage is too high.
    - payload: storage_high_no
      title: No, it's just fine. 
    text: "If the database still down after restarting the service, check if the database storage is too high.\
          \nIs the storage too high?"

# Ask user to exclude postgresql-related files and software from antivirus
  utter_database_down_repetitive_not_storage:
  - text: "If it's not storage issue, kindly proceed to the following step:\
          \nMake sure all the postgresql-related files and software have been excluded from antivirus and anti-malware software\
          \nPostgresql-related files are as below:\
          \n*V4*\
          \n- D:\\PostgreSQL\
          \n- C:\\Program Files (x86)\\PostgreSQL\
          \n- pgAdmin III\
          \n*V5*\
          \n- D:\\PostgreSQL\
          \n- C:\\Program Files\\PostgreSQL\
          \n- pgAdmin 4"

# ~~~~Database High Storage~~~~ #
# Ask if the storage is higher than 200GB
  utter_database_high_storage:
  - buttons:
    - payload: storage_high_yes
      title: Yes, the storage is more than 200GB.
    - payload: storage_high_no
      title: No, it's not.
    text: Is the storage higher than 200GB?

# Provide Guideline to clear the database storage
  utter_database_clear_storage:
  - text: "Please proceed to clear the database storage\
          \n-Link to PostgreSQL Installation Guide-\
          \n*TAKE NOTE!! Without proper deletion, it might cause the PostgreSQL files to be corrupted."

# ~~~~Database Solution~~~~ #
# Provide Guideline to reinstall PostgreSQL
  utter_database_reinstall:
  - text: "Please proceed to reinstall the PostgreSQL\
          \n-Link to PostgreSQL Installation Guide-"
  
  utter_database_jira:
  - text: "Please send an email to JIRA owner with the following info:\
          \n- Describe issue faced through email.\
          \n- Plan and setup a VCare session."

# Ask whether the database issue still persist (Database)
  utter_database_feedback:
  - buttons:
    - payload: issue_persist_yes
      title: Yes, the issue still persist.
    - payload: issue_persist_no
      title: No, the issue solved.
    text: Does the issue still persist?

# ------------------Report Solution------------------ #
# Ask which type of report issue the user faced
  utter_general_report:
  - buttons:
    - payload: report_error_message
      title: "Error Message:\"No report data available\" prompted."
    - payload: report_cant_export_xls
      title: Unable to export report in .xls format.
    - payload: report_export_crash
      title: Crash while exporting report.
    text: Which type of report issue are you facing?

# ~~~~Report Error Message~~~~ #
# Ask the user to start the postgresql service when error message is prompted
  utter_report_error_message:
  - text: "Kindly reactivate your postgresql service on your machine\
          \nSteps:\
          \n1. Search for services (Win + S for quick search).\
          \n2. Search for postgresql in the services.\
          \n*V4 - postgresql-9.3\
          \n*V5 - postgresql-x64-10\
          \n3. Start the service by doing the following action: Right Click > Start.\
          \n*Make sure postgresql service did not turn off after service start running."

# ~~~~Report Can't Export in xls format~~~~ #
# Ask the user to check the xlsgen version
  utter_report_cant_export_xls:
  - buttons:
    - payload: xlsgen_specific_version
      title: "1.9.0.4"
    - payload: xlsgen_other_version
      title: Version > 3.0
    text: "Kindly check your xlsgen version.\
          \n*You can check it in 'C:\\Windows\\SysWOW64'\
          \nWhich version are your xlsgen version?"

# Action to be taken when the xlsgen version is 1.9.0.4
  utter_xlsgen_specific_version:
  - text: "Kindly follow the steps below.\
          \nDebug step\
          \n1. Copy 'xlsgen.dll[1.9.0.4]' and 'xlsgen.license.lic' from good machine.\
          \n*You can find the file in 'C:\\Windows\\SysWOW64'\
          \n2. Copy xlsgen folder from 'C:\\Program Files(x86)'\
          \n3. Copy xlsgen folder from 'C:\\Program Files'\
          \n4. Paste all the files and folders above to their respective directories in the bad machine."

# Action to be taken when the xlsgen is any other version
  utter_xlsgen_other_version:
  - text: "Please reinstall the latest version of xlsgen.dll."

# ~~~~Report Crash when export~~~~ #
# Action to be taken when report crash while exporting
  utter_report_export_crash:
  - text: "Please update the following items to its latest version based on your situation.\
          \n'ViTroxReportDynamicLib-vc9.dll'(V4)\
          \n'ViTroxReportDynamicLib-v140.dll'(V5)"

# ~~~~Report Solution~~~~ #
# Ask whether the database issue still persist (Database)
  utter_report_feedback:
  - buttons:
    - payload: issue_solve_yes
      title: Yes, Issue solved.
    - payload: issue_solve_no
      title: No, not solved.
    text: Does the issue solved after the action taken?

  utter_report_jira:
  - text: "Please send an email to JIRA owner with the following info:\
          \n- Backup database (If possible)\
          \n- Backup software\
          \n- Export Info/Lot Image"
  
  utter_general_ui_display:
  - text: -Insert Server Link- (UI/Display)

  utter_general_handshake:
  - text: -Insert Server Link- (Handshake)

  utter_general_counter:
  - text: -Insert Server Link- (Counter)

# ------------------Solution for Vision Issue------------------ #
# List all 2D vision(Lead/Mark/Package/Lens/Package Edge/OCR/Matrix Code/Pin 1/Orient/Measure/Unit Alignment)
  utter_vision_2D:
  - buttons:
    - payload: 2d_lead
      title: Lead
    - payload: 2d_mark
      title: Mark
    - payload: 2d_package
      title: Package
    - payload: 2d_lens
      title: Lens
    - payload: 2d_pacakage_edge
      title: Package Edge
    - payload: 2d_ocr
      title: OCR
    - payload: 2d_matrix_code
      title: Matrix Code
    - payload: 2d_pin_1
      title: Pin 1
    - payload: 2d_orient
      title: Orient
    - payload: 2d_measure
      title: Measure
    - payload: 2d_unit_alignment
      title: Unit Alignment
    text: Which 2D engine are you facing problem in?

  utter_2d_lead:
  - text: -Insert Server Link- (2D Lead Issue)

  utter_2d_mark:
  - text: -Insert Server Link- (2D Mark Issue)

  utter_2d_package:
  - text: -Insert Server Link- (2D Package Issue)

  utter_2d_lens:
  - text: -Insert Server Link- (2D Lens Issue)

  utter_2d_package_edge:
  - text: -Insert Server Link- (2D Package Edge Issue)

  utter_2d_ocr:
  - text: -Insert Server Link- (2D OCR Issue)

  utter_2d_matrix_code:
  - text: -Insert Server Link- (2D Matrix Code Issue)

  utter_2d_pin_1:
  - text: -Insert Server Link- (2D Pin 1 Issue)

  utter_2d_orient:
  - text: -Insert Server Link- (2D Orient Issue)

  utter_2d_measure:
  - text: -Insert Server Link- (2D Measure Issue)

  utter_2d_unit_alignment:
  - text: -Insert Server Link- (2D Unit Alignment Issue)

# List all 3D vision(Pad/Lead/Package/Package Edge/BGA/Measure/Unit Alignment/Pickup Head)
  utter_vision_3D:
  - buttons:
    - payload: 3d_pad
      title: Pad
    - payload: 3d_lead
      title: 3DLi
    - payload: 3d_package
      title: Package
    - payload: 3d_edge
      title: Package Edge
    - payload: 3d_bga
      title: BGA
    - payload: 3d_measure
      title: Measure
    - payload: 3d_unit_alignment
      title: Unit Alignment
    - payload: 3d_pickup_head
      title: Pickup Head
    text: Which 3D engine are you facing problem in?

  utter_3d_pad:
  - text: -Insert Server Link- (3D Pad Issue)

  utter_3d_lead:
  - text: -Insert Server Link- (3D Lead Issue)

  utter_3d_package:
  - text: -Insert Server Link- (3D Package Issue)

  utter_3d_package_edge:
  - text: -Insert Server Link- (3D Package Edge Issue)

  utter_3d_bga:
  - text: -Insert Server Link- (3D BGA Issue)

  utter_3d_measure:
  - text: -Insert Server Link- (3D Measure Issue)

  utter_3d_unit_alignment:
  - text: -Insert Server Link- (3D Unit Alignment Issue)

  utter_3d_pickup_head:
  - text: -Insert Server Link- (3D Pickup Head Issue)
  
  utter_vision_overkill:
  - text: -Insert Server Link- (Overkill)

  utter_vision_underkill:
  - text: -Insert Server Link- (Underkill)

# Ask if the customer is facing ISSUE or want an IMPROVEMENT on CYCLE TIME
  utter_vision_cycle_time:
  - buttons:
    - payload: cycle_time_issue
      title: Issue
    - payload: cycle_time_improvement
      title: Improvement
    text: "Is it an issue or improvement?\
          \nNote:\
          \nIssue - Current machine cycle time did not achieve what committed to customer\
          \nImprovement - Current machine cycle time achieve what committed to customer but customer wanted further improvement"

# ------------------Cycle Time Solution------------------ #
# Ask which time is too high(Test/Storage)
  utter_cycle_time_issue:
  - buttons:
    - payload: test_time
      title: Test Time
    - payload: storage_time
      title: Storage Time
    text: Test Time or Storage Time High?

# *****Cycle Time Issue Path***** #

# ~~~~Test Time~~~~ #
# Tell the user to TURN OFF all the DEBUG INI key, and ask does it SOLVE the problem.
  utter_issue_test_time:
  - text: "Make sure all the Debug INI is turn OFF\
          \n-> Go to Vision INI File\
          \n[Debug]\
          \n*Turn off every INI key in this section*\
          \n[Any Other Section]\
          \n*Turn off any INI key with 'debug' or 'logtime' word in it*"

  utter_cycle_time_similar_machine_yes:
  - text: "Use the good machine's recipe on the bad machine\
          \n*This step help to eliminate suspected recipe setup issue*"

  utter_replace_vision_ini:
  - text: "Replace the bad machine's vision INI file with the good machine's vision INI\
          \n*This step help to eliminate suspected INI file issue*"

  utter_verify_specific:
  - text: "Verify is the conversion or any specific vision engine causing the high test time.\
          \nTest Time Verification Step\
          \n1. Turn on the following INI key under the related vision INI:\
          \n[Debug]\
          \nLogtime = 1\
          \n2. Run offline test with the saved unit's image\
          \n3. Check DebugTimeLog_VsXXX.txt file created inside V4/Log file after offline test
          \n4. Read the file and verify which is the cause of the high cycle time\
          \n*The image below shows you how to read the DebugTimeLog.*"
    image: https://imgur.com/IQe7ZU3

  utter_check_recipe:
  - text: Please proceed to the guideline - Recipe Setup Section

  utter_check_ini:
  - text: Please proceed to the guideline - INI Section

# ~~~~Storage Time~~~~ #
  utter_issue_storage_time:
  - buttons:
    - payload: hard_disk_yes
      title: Yes, it's hard disk issue.
    - payload: hard_disk_no
      title: No, it's not.
    text: Is it hard disk issue?

  utter_hard_disk_no:
  - text: "Please follow the following steps:\
          \n1. Increase value of the INI key below:\
          \n[Settings]\
          \nImgPoolSize= (5 or above)\
          \n2. Reduce the number of Save First Pass/Fail Image number in 'Execution option'"

  utter_storage_time_feedback:
  - buttons:
    - payload: storage_time_reduce_yes
      title: Yes, storage time is reduced.
    - payload: storage_time_reduce_no
      title: No, storage time does not reduce.
    text: Does the storage time reduced?

# Ask user to send EMAIL to JIRA Owner
  utter_cycle_time_issue_request:
  - text: "Kindly provide JIRA owner with the following info by email.\
          \n\nInfo to Collect:\
          \n- Is there any memory leak? (Y/N)\
          \n- *Here is the link to the guide of checking memory leak: -Insert link-*\
          \n- Is it caused by hard disk issue? (Y/N)\
          \n- Does this issue happened after recent update? (Y/N)\
          \n- Any new inspection added recently? (Y/N)\
          \n- Any action done before cycle time issue? (If Yes, please describe.)\
          \n\nItem to Collect:\
          \n- Backup Software\
          \n- Export Info/Lot Image"

# *****Cycle Time Improvement Path***** #
# Ask which time is too high(Test/Grab/Storage)
  utter_cycle_time_improvement:
  - buttons:
    - payload: test_time
      title: Test Time
    - payload: storage_time
      title: Storage Time
    text: Test Time or Storage Time High?

  utter_improvement_grab_time:
  - text: "Please try to enable the INI key below.\
          \n[GrabSettings]\
          \nEnableBinning = 1"
          
# Ask user to REQUEST for hardware changes/upgrade when there is no improvement after the actions taken
  utter_hardware_change_request:
  - text: Please send an email to JIRA owner and BD to request for hardware changes/upgrade.

# *****Usable for both Path***** #
# Ask if the test time REDUCED
  utter_test_time_feedback:
  - buttons:
    - payload: test_time_reduce_yes
      title: Yes, test time is reduced.
    - payload: test_time_reduce_no
      title: No, test time does not reduce.
    text: Does the test time reduced?

# Ask if the cycle time REDUCED
  utter_cycle_time_feedback:
  - buttons:
    - payload: test_time_reduce_yes
      title: Yes, test time is reduced.
    - payload: test_time_reduce_no
      title: No, test time does not reduce.
    text: Does the test time reduced?

# provide cycle time GUIDELINE 
  utter_cycle_time_guideline:
  - buttons:
    - payload: cycle_time_reduce_yes
      title: Yes, the issue solved.
    - payload: cycle_time_reduce_no
      title: No, it doesn't help.
    text: "Here is the guideline to improve the cycle time.\
          \nCycle Time Guideline:*Link*\
          \nDoes the cycle time issue solved?"

# ------------------Other------------------ #
# Ask whether there is any SIMILAR GOOD MACHINE ONSITE (Crash)
  utter_crash_similar_machine: 
  - buttons:
    - payload: similar_yes
      title: Yes, There is.
    - payload: similar_no
      title: No, Don't Have
    text: Are there any similar good machine onsite?

# Ask whether there is any SIMILAR GOOD MACHINE ONSITE (Cycle Time High)
  utter_cycle_time_similar_machine: 
  - buttons:
    - payload: similar_yes
      title: Yes, There is.
    - payload: similar_no
      title: No, Don't Have
    text: Are there any similar good machine onsite?

# Ask whether the user still face other issue
  utter_feedback:
  - buttons:
    - payload: solution_prompt_issue
      title: Yes
    - payload: solution_no_issue
      title: No
    text: Do you still have any problem to ask? 😊

# Ask user to describe the problem he/she faced 
  utter_solution_another_issue:
  - text: "Please describe the issue/problem you are facing. 😃\
           \nSoftware:\n General (Software Crash/Recipe Can't Load/Database/Report/UI/Handshake/Counter)\
           \n Vision (2D [2D Lead/2D Mark/2D Package/2D Lens/2D Package Edge/2D OCR/2D Matrix Code/2D Pin 1/2D Orient/2D Measure/2D Unit Alignment]/\
           \n         3D [3D Pad/3D Lead/3D Package/3D Package Edge/3D BGA/3D Measure/3D Unit Alignment/3D Pickup Head]/Overkill/Underkill/Cycle Time High)"


  utter_solution_no_issue:
  - text: Great! Have a nice day😊
  - text: Nice!! Come again when you have problem~ 😁

  utter_out_of_scope:
  - text: Sorry, I can't handle this.😢

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
